databankadmin@databank:/opt/RDFDatabank/rdfdatabank/tests/RDFDatabank$ python TestSubmission.py testGetDatasetByVersion
/opt/RDFDatabank/rdfdatabank/tests/RDFDatabank/rdflib/plugin.py:94: UserWarning: Module rdflib was already imported from /opt/RDFDatabank/rdfdatabank/tests/RDFDatabank/rdflib/__init__.pyc, but /usr/local/lib/python2.6/dist-packages/rdflib-2.4.2-py2.6-linux-i686.egg is being added to sys.path
  from pkg_resources import iter_entry_points
Upload files to a dataset - POST file to /silo_name/datasets/dataset_name. Access each of the versions and the files in that version ... DEBUG:SparqlQueryTestCase:setRequestEndPoint: endpointhost databank.ora.ox.ac.uk:
DEBUG:SparqlQueryTestCase:setRequestEndPoint: endpointpath /sandbox/:
DEBUG:SparqlQueryTestCase:setRequestEndPoint: endpointuser admin:
DEBUG:SparqlQueryTestCase:setRequestEndPoint: endpointpass test:
DEBUG:SparqlQueryTestCase:DELETE http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 404 Not Found
DEBUG:SparqlQueryTestCase:POST http://databank.ora.ox.ac.uk/sandbox/datasets/
DEBUG:SparqlQueryTestCase:Status: 201 Created
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/states/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:POST http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/
DEBUG:SparqlQueryTestCase:Status: 201 Created
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/states/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/version0
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:POST http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/
DEBUG:SparqlQueryTestCase:Status: 201 Created
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir2.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/states/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:DELETE http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir.zip
DEBUG:SparqlQueryTestCase:Status: 404 Not Found
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir2.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/states/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:POST http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/
DEBUG:SparqlQueryTestCase:Status: 204 No Content
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission
DEBUG:SparqlQueryTestCase:Status: 200 OK
DEBUG:SparqlQueryTestCase:GET http://databank.ora.ox.ac.uk/sandbox/datasets/TestSubmission/testdir.zip
DEBUG:SparqlQueryTestCase:Status: 200 OK
FAIL

======================================================================
FAIL: Upload files to a dataset - POST file to /silo_name/datasets/dataset_name. Access each of the versions and the files in that version
----------------------------------------------------------------------
Traceback (most recent call last):
  File "TestSubmission.py", line 755, in testGetDatasetByVersion
    expect_status=404, expect_reason="Not Found")
  File "../TestLib/SparqlQueryTestCase.py", line 180, in doHTTP_GET
    expect_status=expect_status, expect_reason=expect_reason)
  File "../TestLib/SparqlQueryTestCase.py", line 164, in doRequest
    if expect_status != "*": self.assertEqual(response.status, expect_status)
AssertionError: 200 != 404

----------------------------------------------------------------------
Ran 1 test in 16.518s

FAILED (failures=1)
